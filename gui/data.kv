
#: import filechooser gui.filechooser
<Root@FloatLayout>:
     id: layout

     ActionBar:
          pos_hint: {'top':1}
          ActionView:
               use_separator: True
               ActionPrevious:
                    title: 'Action Bar'
                    with_previous: False
               ActionOverflow:
               ActionGroup:
                    text: 'File'
                    mode: 'spinner'
                    dropdown_width: 150
                    ActionButton:
                         text: 'Open'
                         on_release: dialog = filechooser.FileDialog(app.load_data_file); dialog.load_file(configuration.parser['settings']['data_location'])
                    ActionButton:
                         text: 'Open from Excel'
                         on_release: app.load_active_workbook()
                    ActionButton:
                         text: 'Close All Files'
                         on_release: app.remove_all_tabs()
               ActionGroup:
                    text: 'Tools'
                    size_hint_x: .2
                    mode: 'spinner'
                    dropdown_width: 225
                    ActionButton:
                         text: 'Power Test Analysis'
                         halign: 'left'
                         on_release: app.analyze_power_data()
                    ActionButton:
                         text: 'Plot Cycle Progression'
                         halign: 'left'
                         on_release: app.open_progression('progression')
                    ActionButton:
                         text: 'Plot dQ/dV Progression'
                         halign: 'left'
                         on_release: app.open_progression('dqdv')


     BoxLayout:
          orientation: 'vertical'
          size_hint: 1,0.9
          pos: 0,0
          MenuBar:
               id: menubar
               size_hint_y: .2
          PlotTabbedPanel:
               id: PlotPanel
          BoxLayout:
               size_hint_y: 0.1
               id: nav_bar

     #                     on_release: dialog = filechooser.FileDialog(app.load_data_file); dialog.load_file(configuration.parser['settings']['data_location'])
     #      AppMenuTextItem:
     #           text:'Edit'
     #           ContextMenu:
     #                ContextMenuTextItem:
     #                     text: 'Clear Tests (pending)'
     #      AppMenuTextItem:
     #           text:'View'
     #           ContextMenu:
     #                ContextMenuTextItem:
     #                     text: 'View data in Excel (pending)'
     #                ContextMenuTextItem:
     #                     text: 'View cell info in database (pending)'
     #      AppMenuTextItem:
     #           text:'Tools'
     #           ContextMenu:
     #                ContextMenuTextItem:
     #                     text: 'pending'
     #
     #      AppMenuTextItem:
     #           text:'Help'
     #           ContextMenu:
     #                ContextMenuTextItem:
     #                     text: 'Contact sean@sienzaenergy.com'
