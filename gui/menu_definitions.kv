
#: import filechooser gui.filechooser
#: import configuration configuration

<SideBarButton@Button>:
     text_size: self.size
     size_hint_y: 0.15
     padding: 15, 15
     halign: 'left'
     valign: 'middle'

<SideBarToggle@ToggleButton>:
     text_size: self.size
     size_hint_y: 0.15
     padding: 15, 15
     halign: 'left'
     valign: 'middle'

<SideBar@BoxLayout>:
     orientation: 'vertical'
     Button:
          text: ''
     SideBarButton:
          text: 'Load File'
          size_hint_y: None
          height: 35
          on_press: dialog = filechooser.FileDialog(app.load_data_file); dialog.load_file(configuration.parser['settings']['data_location'])
     SideBarButton:
          size_hint_y: None
          height: 35
          text: 'Remove Tab'
          on_press: app.remove_tab()
     SideBarToggle:
          size_hint_y: None
          height: 35
          id: autopopulate
          text: 'Autopopulate'
          state: 'down'

<TreeViewButton>:
     size_hint_y: 0.1

<CustomTreeView>:
     app: app
<ScrollTree@ScrollView>:
     CustomTreeView:
          id: treeview
          root_options: {'text':'Loaded Files', 'hide_root':False}
          size_hint_y: None
          height:self.parent.height * 2

<MenuBar@BoxLayout>:
     orientation:'horizontal'
     SideBar:
          size_hint_x: 0.2
          id: sidebar
     ScrollTree:
          id: scrolltree

<SideBarLabelEntry@BoxLayout>:
     orientation: 'vertical'

<PlotTabbedPanel>:
     do_default_tab: False
     tab_width: 150

<PlotTab>:
     orientation: 'horizontal'
     BoxLayout:
          padding: 2
          spacing: 5
          size_hint_x: 0.2
          orientation: 'vertical'
          SideBarLabelEntry:
               size_hint_y: None
               height: 60
               Label:
                    text: 'Active Mass:'
               TextInput:
                    id: mass_input
                    text: '(mg)'
                    multiline: False
                    on_text_validate:print('triggered'); root.actual_parent.update_mass(self)
          SideBarLabelEntry:
               size_hint_y: None
               height: 60
               Label:
                    text: "Target:"
               TextInput:
                    text: ' (mAh/g)'
                    multiline: False
                    on_text_validate: root.actual_parent.update_reference(self)

          Widget:
          Button:
               size_hint_y: 0.1
               text: 'View in Excel'
               on_release: root.actual_parent.launch_excel(self)
